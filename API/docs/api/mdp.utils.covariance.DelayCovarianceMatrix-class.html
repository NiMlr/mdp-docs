<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>mdp.utils.covariance.DelayCovarianceMatrix</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="mdp-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center">
            <p class="nomargin">
              <a class="navbar" target="_top" href="http://mdp-toolkit.sourceforge.net">Modular toolkit for Data Processing MDP</a>
      </p></th></tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="mdp-module.html">Package&nbsp;mdp</a> ::
        <a href="mdp.utils-module.html">Package&nbsp;utils</a> ::
        <a href="mdp.utils.covariance-module.html">Module&nbsp;covariance</a> ::
        Class&nbsp;DelayCovarianceMatrix
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript: void(0);" class="privatelink"
    onclick="toggle_private();">hide private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="mdp.utils.covariance.DelayCovarianceMatrix-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h2 class="class">Class DelayCovarianceMatrix
<br/><span class="codelink"><a href="mdp.utils.covariance-pysrc.html#DelayCovarianceMatrix">source&nbsp;code</a></span></h2>
<center>
<center>  <map id="uml_class_diagram_for_classdoc_43" name="uml_class_diagram_for_classdoc_43">
<area shape="rect" href="mdp.utils.covariance.DelayCovarianceMatrix&#45;class.html#fix" title="The collected data is adjusted to compute the covariance matrix of the signal x(1)...x(N&#45;dt) and the delayed signal x(dt)...x(N), which is defined as &lt;(x(t)&#45;&lt;x(t)&gt;)*(x(t+dt)&#45;&lt;x(t+dt)&gt;)&gt; ." alt="" coords="17,36,271,55" />
<area shape="rect" href="mdp.utils.covariance.DelayCovarianceMatrix&#45;class.html#update" title="mdp.utils.covariance.DelayCovarianceMatrix.update" alt="" coords="17,55,271,73" />
<area shape="rect" href="mdp.utils.covariance.DelayCovarianceMatrix&#45;class.html#__init__" title="dt is the time delay." alt="" coords="17,73,271,92" />
<area shape="rect" href="mdp.utils.covariance.DelayCovarianceMatrix&#45;class.html" title="mdp.utils.covariance.DelayCovarianceMatrix" alt="" coords="5,5,283,99" />
</map>
  <img src="uml_class_diagram_for_classdoc_43.gif" alt='' usemap="#uml_class_diagram_for_classdoc_43" ismap="ismap" class="graph-without-title">
</center></center>
<hr />
<pre class="literalblock">
This class stores an empirical covariance matrix between the signal and
time delayed signal that can be updated incrementally.

Note that the internal sum is a standard __add__ operation. We are not
using any of the fancy sum algorithms to avoid round off errors when
adding many numbers. If you want to contribute a CovarianceMatrix class
that uses such algorithms we would be happy to include it in MDP.
For a start see the Python recipe by Raymond Hettinger at
http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/393090
For a review about floating point arithmetic and its pitfalls see
http://docs.sun.com/source/806-3568/ncg_goldberg.html

</pre><br /><br />

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <td colspan="2">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <th align="left" class="summary">Instance Methods</th>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
  <td width="15%" align="right" valign="top" class="rtype">
    &nbsp;
   </td>
  <td>
    <span class="sig"><a href="mdp.utils.covariance.DelayCovarianceMatrix-class.html#__init__" class="sig-name">__init__</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">dt</span>,
        <span class="sig-arg">dtype</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">bias</span>=<span class="sig-default">False</span>)</span>
    <br />dt is the time delay.
  </td>
</tr>
<tr class="private">
  <td width="15%" align="right" valign="top" class="rtype">
    &nbsp;
   </td>
  <td>
    <span class="sig"><a href="mdp.utils.covariance.DelayCovarianceMatrix-class.html#_init_internals" class="sig-name">_init_internals</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">x</span>)</span>
    <br />Inits some internals structures.
  </td>
</tr>
<tr>
  <td width="15%" align="right" valign="top" class="rtype">
    &nbsp;
   </td>
  <td>
    <span class="sig"><a href="mdp.utils.covariance.DelayCovarianceMatrix-class.html#update" class="sig-name">update</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">x</span>)</span>
    
  </td>
</tr>
<tr>
  <td width="15%" align="right" valign="top" class="rtype">
    &nbsp;
   </td>
  <td>
    <span class="sig"><a href="mdp.utils.covariance.DelayCovarianceMatrix-class.html#fix" class="sig-name">fix</a>(<span class="sig-arg">self</span>,
        <span class="sig-arg">A</span>=<span class="sig-default">None</span>)</span>
    <br />The collected data is adjusted to compute the covariance matrix of
the signal x(1)...x(N-dt) and the delayed signal x(dt)...x(N),
which is defined as &lt;(x(t)-&lt;x(t)&gt;)*(x(t+dt)-&lt;x(t+dt)&gt;)&gt; .
  </td>
</tr>
  <tr>
    <td colspan="2">
    <p class="varlist"><span class="varlist-header">Inherited from <code>object</code></span>:
      <code>__delattr__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__str__</code>
      </p>
    </td>
  </tr>
</table>

<br />
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <td colspan="2">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <th align="left" class="summary">Class Variables</th>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2">
    <p class="varlist"><span class="varlist-header">Inherited from <code>object</code></span>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>

<br />
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <td colspan="2">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <th align="left" class="details">Method Details</th>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">dt</span>,
        <span class="sig-arg">dtype</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">bias</span>=<span class="sig-default">False</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="mdp.utils.covariance-pysrc.html#DelayCovarianceMatrix.__init__">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  <pre class="literalblock">
dt is the time delay. If dt==0, DelayCovarianceMatrix equals
CovarianceMatrix. If dtype is not defined, it will be inherited from
the first data bunch received by 'update'.
All the matrices in this class are set up with the given dtype and
no upcast is possible.
If bias is True, the covariance matrix is normalized by dividing
by T instead of the usual T-1.

</pre>
  <dl><dt></dt><dd>
    <dl><dt>Overrides:
      object.__init__
    </dt></dl>
  </dd></dl>
</td></tr></table>
</div>
<a name="_init_internals"></a>
<div class="private">
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">_init_internals</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">x</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="mdp.utils.covariance-pysrc.html#DelayCovarianceMatrix._init_internals">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  <pre class="literalblock">
Inits some internals structures. The reason this is not done in
the constructor is that we want to be able to derive the input
dimension and the dtype directly from the data this class receives.

</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="update"></a>
<div>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">update</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">x</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="mdp.utils.covariance-pysrc.html#DelayCovarianceMatrix.update">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<a name="fix"></a>
<div>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3><span class="sig"><span class="sig-name">fix</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">A</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="mdp.utils.covariance-pysrc.html#DelayCovarianceMatrix.fix">source&nbsp;code</a></span>&nbsp;</span
    ></td>
  </table>
  
  <pre class="literalblock">
The collected data is adjusted to compute the covariance matrix of
the signal x(1)...x(N-dt) and the delayed signal x(dt)...x(N),
which is defined as &lt;(x(t)-&lt;x(t)&gt;)*(x(t+dt)-&lt;x(t+dt)&gt;)&gt; .
The function returns a tuple containing the covariance matrix,
the average &lt;x(t)&gt; over the first N-dt points, the average of the
delayed signal &lt;x(t+dt)&gt; and the number of observations. The internal
data is then reset to a zero-state.

If A is defined, the covariance matrix is transformed by the linear
transformation Ax . E.g. to whiten the data, A is the whitening matrix.

</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="mdp-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar"
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center">
            <p class="nomargin">
              <a class="navbar" target="_top" href="http://mdp-toolkit.sourceforge.net">Modular toolkit for Data Processing MDP</a>
      </p></th></tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">Generated by Epydoc
        3.0alpha2 on Thu Jun 29 20:46:48 2006</td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sf.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
